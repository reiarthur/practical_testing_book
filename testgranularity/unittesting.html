

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Unit Testing &#8212; The Practical Testing Book</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-dropdown.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Integration Testing" href="integrationtesting.html" />
    <link rel="prev" title="The Different Dimensions of Testing" href="../fundamentals/kinds.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">The Practical Testing Book</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Introduction
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Fundamentals
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../fundamentals/basics.html">
   Motivation and Basic Definitions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../fundamentals/limitations.html">
   Limitations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../fundamentals/kinds.html">
   The Different Dimensions of Testing
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Test Granularity
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Unit Testing
  </a>
  <ul class="simple">
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="integrationtesting.html">
   Integration Testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="systemtesting.html">
   System Testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="acceptancetesting/acceptancetesting.html">
   Acceptance Testing
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Good/Bad Practices
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../goodpractices/artifacts.html">
   Test Artifacts
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../goodpractices/bugreports.html">
   Bug Reports
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Test Adequacy
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../testadequacy/idea.html">
   How Good Are your Tests?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../testadequacy/coverage.html">
   Structural Testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../testadequacy/mutation.html">
   Mutation Testing
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Test Generation
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../testgeneration/modelbased.html">
   Model-Based Testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../testgeneration/combinatorial.html">
   Combinatorial Testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../testgeneration/random.html">
   Randomized Testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../testgeneration/fuzzing.html">
   Fuzzing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../testgeneration/propertybased.html">
   Property-based Testing
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Regression Testing
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../testregression/buildsystems.html">
   Build Systems
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../testregression/continuousintegration.html">
   Continuous Integration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../testregression/flakytests.html">
   Flaky test
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../testregression/selectionprio.html">
   Test Selection and Prioritization
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Debugging
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../debugging/scientific.html">
   Scientific Debugging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../debugging/gitbisect.html">
   Git Bisect
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../debugging/deltadebugging.html">
   Hands On: Delta Debugging
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Misc
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../misc/credits.html">
   Credits
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../misc/howtohelp.html">
   How To Help
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/testgranularity/unittesting.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/damorimRG/practical_testing_book/master?urlpath=tree/testgranularity/unittesting.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/damorimRG/practical_testing_book/blob/master/testgranularity/unittesting.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hands-on">
   Hands On
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exception-testing">
   Exception Testing
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#organization-of-test-cases">
   Organization of Test Cases
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#organizing-by-instances">
     Organizing by Instances
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#setup-and-teardown">
     SetUp() and TearDown()
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#final-consideration">
   Final Consideration
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#references">
   References
  </a>
 </li>
</ul>

        </nav>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="unit-testing">
<h1>Unit Testing<a class="headerlink" href="#unit-testing" title="Permalink to this headline">¶</a></h1>
<p>Unit Testing is where each unit of the system is tested individually. The purpose is to isolate each part of the system to verify that they are working as specified. The use of this type of test throughout the implementation is possible to reduce the amount of bugs in the application. It works by comparing the output of a function to be tested with expected values.</p>
<p>Watch the following 2-min video for a more clear understanding about Unit Testing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">YouTubeVideo</span>
<span class="n">YouTubeVideo</span><span class="p">(</span><span class="s1">&#39;upzTwaVNZzs&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<iframe
    width="400"
    height="300"
    src="https://www.youtube.com/embed/upzTwaVNZzs"
    frameborder="0"
    allowfullscreen
></iframe>
</div></div>
</div>
<div class="section" id="hands-on">
<h2>Hands On<a class="headerlink" href="#hands-on" title="Permalink to this headline">¶</a></h2>
<p><a 
href="https://colab.research.google.com/github/damorimRG/practical_testing_book/blob/master/testgranularity/unittesting_example.ipynb" target="_blank">
<img alt="Open In Colab" src="https://colab.research.google.com/assets/colab-badge.svg"></a></p>
<p>Following we have a basic calculator class we will be using in this tutorial. You have the option to open it on Google Colab by clicking the button above <code class="docutils literal notranslate"><span class="pre">Open</span> <span class="pre">in</span> <span class="pre">Colab</span></code> where you can run and modify the code.</p>
<p>The Python’s Unit Testing Framework we will be using is called <code class="docutils literal notranslate"><span class="pre">unittest</span></code>, one of the most known frameworks for testing Python code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">unittest</span>
</pre></div>
</div>
</div>
</div>
<p>Our basic calculator has only four basic operations: additon, subtraction, multiplication and division.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Calculator</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

    <span class="k">def</span> <span class="nf">sub</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span>
  
    <span class="k">def</span> <span class="nf">mul</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>

    <span class="k">def</span> <span class="nf">div</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">b</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span>
</pre></div>
</div>
</div>
</div>
<p>The objective is to ensure each method is working properly and giving the right output when receiving any two inputs.</p>
<p>A test case is created by subclassing <code class="docutils literal notranslate"><span class="pre">unittest.TestCase</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TestCalculator</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
  
    <span class="k">def</span> <span class="nf">test_add</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Test case function for addition&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calc</span> <span class="o">=</span> <span class="n">Calculator</span><span class="p">()</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calc</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="mi">11</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_sub</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Test case function for subtraction&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calc</span> <span class="o">=</span> <span class="n">Calculator</span><span class="p">()</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calc</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="mi">5</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>

    <span class="nd">@unittest</span><span class="o">.</span><span class="n">skip</span><span class="p">(</span><span class="s1">&#39;Some reason&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">test_mul</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Test case function for multiplication&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calc</span> <span class="o">=</span> <span class="n">Calculator</span><span class="p">()</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calc</span><span class="o">.</span><span class="n">mul</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="mi">21</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_div</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Test case function for division&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calc</span> <span class="o">=</span> <span class="n">Calculator</span><span class="p">()</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calc</span><span class="o">.</span><span class="n">div</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="mi">4</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>We created 4 unit tests, each of it is checking a method of the calculator class. These checks are being done through calls to <code class="docutils literal notranslate"><span class="pre">Assertions</span></code>, in this case the <code class="docutils literal notranslate"><span class="pre">assertEqual</span></code> function. Note that, flagging the method <code class="docutils literal notranslate"><span class="pre">test_mul</span></code> with <code class="docutils literal notranslate"><span class="pre">&#64;unittest.skip('your_reason')</span></code> will skip the test for that method.</p>
<p>To simply run the tests, use:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">argv</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">],</span> <span class="n">verbosity</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">exit</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>After running you will see something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">test_add</span> <span class="p">(</span><span class="n">__main__</span><span class="o">.</span><span class="n">TestCalculator</span><span class="p">)</span>
<span class="n">Test</span> <span class="n">case</span> <span class="n">function</span> <span class="k">for</span> <span class="n">addition</span> <span class="o">...</span> <span class="n">ok</span>
<span class="n">test_div</span> <span class="p">(</span><span class="n">__main__</span><span class="o">.</span><span class="n">TestCalculator</span><span class="p">)</span>
<span class="n">Test</span> <span class="n">case</span> <span class="n">function</span> <span class="k">for</span> <span class="n">division</span> <span class="o">...</span> <span class="n">FAIL</span>
<span class="n">test_mul</span> <span class="p">(</span><span class="n">__main__</span><span class="o">.</span><span class="n">TestCalculator</span><span class="p">)</span>
<span class="n">Test</span> <span class="n">case</span> <span class="n">function</span> <span class="k">for</span> <span class="n">multiplication</span> <span class="o">...</span> <span class="n">skipped</span> <span class="s1">&#39;Some reason&#39;</span>
<span class="n">test_sub</span> <span class="p">(</span><span class="n">__main__</span><span class="o">.</span><span class="n">TestCalculator</span><span class="p">)</span>
<span class="n">Test</span> <span class="n">case</span> <span class="n">function</span> <span class="k">for</span> <span class="n">subtraction</span> <span class="o">...</span> <span class="n">ok</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">addition</span></code> and <code class="docutils literal notranslate"><span class="pre">subtraction</span></code> passed, <code class="docutils literal notranslate"><span class="pre">multiplication</span></code> was intentionally skipped, and <code class="docutils literal notranslate"><span class="pre">division</span></code> failed.</p>
<p>Unittest has several functions, known as <code class="docutils literal notranslate"><span class="pre">Assertions</span></code>, useful for the development of unit tests. Some are: <code class="docutils literal notranslate"><span class="pre">assertNotEqual(a,</span> <span class="pre">b)</span></code>, <code class="docutils literal notranslate"><span class="pre">assertTrue(x)</span></code>, <code class="docutils literal notranslate"><span class="pre">assertFalse(x)</span></code>, <code class="docutils literal notranslate"><span class="pre">assertIs(a,</span> <span class="pre">b)</span></code>, <code class="docutils literal notranslate"><span class="pre">assertIsNot(a,</span> <span class="pre">b)</span></code>, <code class="docutils literal notranslate"><span class="pre">assertIsNone(x)</span></code>, and much more.</p>
</div>
<div class="section" id="exception-testing">
<h2>Exception Testing<a class="headerlink" href="#exception-testing" title="Permalink to this headline">¶</a></h2>
<p>Likewise the <code class="docutils literal notranslate"><span class="pre">assert*</span></code> functions listed above there is also <code class="docutils literal notranslate"><span class="pre">assertRaises</span></code> function for testing an exception.</p>
<p>Use: <code class="docutils literal notranslate"><span class="pre">assertRaises(exception,</span> <span class="pre">callable,</span> <span class="pre">*args,</span> <span class="pre">**kwds)</span></code></p>
<p>Where <code class="docutils literal notranslate"><span class="pre">exception</span></code> is the type of exception, <code class="docutils literal notranslate"><span class="pre">callable</span></code> is the method to be tested, and <code class="docutils literal notranslate"><span class="pre">args</span></code> are optional parameters passed to the <code class="docutils literal notranslate"><span class="pre">callable</span></code> method.</p>
<p>Let’s change the calculator’s division operation for a practical use of <code class="docutils literal notranslate"><span class="pre">assertRaises</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">div</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">b</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ZeroDivisionError</span><span class="p">(</span><span class="s2">&quot;The divisor must not be zero&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span>
</pre></div>
</div>
</div>
</div>
<p>Whenever <code class="docutils literal notranslate"><span class="pre">div</span></code> is called with divisor equals 0 an error raises. Check by running the following test case:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_div</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Make sure ZeroDivisionError is raised when necessary&#39;&#39;&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">calc</span> <span class="o">=</span> <span class="n">Calculator</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">calc</span><span class="o">.</span><span class="n">div</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The test passes because 10 over 0 does raise a <code class="docutils literal notranslate"><span class="pre">ZeroDivisionError</span></code> exception.</p>
</div>
<div class="section" id="organization-of-test-cases">
<h2>Organization of Test Cases<a class="headerlink" href="#organization-of-test-cases" title="Permalink to this headline">¶</a></h2>
<p>The organization of test cases is essential to make them better, more independent and help with their maintenance. For that, there are several standards related to automated tests that can be used in Unit Testing. Some of them are:</p>
<div class="section" id="organizing-by-instances">
<h3>Organizing by Instances<a class="headerlink" href="#organizing-by-instances" title="Permalink to this headline">¶</a></h3>
<p>As seen previously, unit test cases are represented by <code class="docutils literal notranslate"><span class="pre">unittest.TestCase</span></code> instances. In other words, we created only one test class holding all the tests of its methods. To a good organization of the test code, it is possible to create different instances meaning each one can hold a bunch of specific tests for a single method.</p>
<p>Let’s create another test case for division only.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TestCalcDiv</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">test_div</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Test case function for division&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calc</span> <span class="o">=</span> <span class="n">Calculator</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">calc</span><span class="o">.</span><span class="n">div</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">calc</span><span class="o">.</span><span class="n">div</span><span class="p">(</span><span class="mi">12</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_div_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Make sure ZeroDivisionError is raised when necessary&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calc</span> <span class="o">=</span> <span class="n">Calculator</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">calc</span><span class="o">.</span><span class="n">div</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The test case above will pass.</p>
</div>
<div class="section" id="setup-and-teardown">
<h3>SetUp() and TearDown()<a class="headerlink" href="#setup-and-teardown" title="Permalink to this headline">¶</a></h3>
<p>The setUp and tearDown methods are also useful in organizing test cases. When a <code class="docutils literal notranslate"><span class="pre">setUp</span></code> is defined, the test runner will run that method <strong>prior</strong> to each test. Likewise, if a <code class="docutils literal notranslate"><span class="pre">tearDown</span></code> is defined the test runner will invoke that method <strong>after</strong> each test.</p>
<p>As you might notice we are creating an instance of Calculator <code class="docutils literal notranslate"><span class="pre">self.calc</span> <span class="pre">=</span> <span class="pre">Calculator()</span></code> in every method to be tested. To avoid repeting code we can simply use the <code class="docutils literal notranslate"><span class="pre">setUp</span></code>function available.</p>
<p>See how our division test case will now look like:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TestCalcDiv</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Set up an instance of Calculator pior to every test execution&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calc</span> <span class="o">=</span> <span class="n">Calculator</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">test_div</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Test case function for division&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">calc</span><span class="o">.</span><span class="n">div</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">calc</span><span class="o">.</span><span class="n">div</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">6</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_div_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Make sure ZeroDivisionError is raised when necessary&#39;&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertRaises</span><span class="p">(</span><span class="ne">ZeroDivisionError</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">calc</span><span class="o">.</span><span class="n">div</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The test case should pass without problems. You can try creating your own <code class="docutils literal notranslate"><span class="pre">tearDown</span></code> function on Colab.</p>
</div>
</div>
<div class="section" id="final-consideration">
<h2>Final Consideration<a class="headerlink" href="#final-consideration" title="Permalink to this headline">¶</a></h2>
<p>Testing will not catch every error in the program, because it cannot evaluate every execution path in any but the most trivial programs. It cannot prove correctness. This problem is a superset of the halting problem, which is undecidable.</p>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><p>https://docs.python.org/3/library/unittest.html</p></li>
</ol>
<div class="toctree-wrapper compound">
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./testgranularity"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="../fundamentals/kinds.html" title="previous page">The Different Dimensions of Testing</a>
    <a class='right-next' id="next-link" href="integrationtesting.html" title="next page">Integration Testing</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By The World<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../_static/js/index.js"></script>
    
  </body>
</html>